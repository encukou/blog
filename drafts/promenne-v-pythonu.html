<!DOCTYPE html>
<html>
<head>
        <title>encukou/blog &mdash; Jak fungují proměnné v Pythonu</title>
        <meta charset="utf-8" />
        <link rel="profile" href="http://gmpg.org/xfn/11" />
        <link rel="stylesheet" type="text/css" href="http://encukou.cz/theme/css/style.css" />
        <link href='http://fonts.googleapis.com/css?family=Signika|Jockey+One&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
        <style type="text/css">
            body.custom-background { background-color: #f5f5f5; }
        </style>
        <link rel="alternate" type="application/atom+xml"
            title="encukou/blog — Atom"
            href="http://encukou.cz/" /> 
        <!--[if lte IE 8]><script src="http://encukou.cz/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background single-author" >
    <div id="container">
        <div id="header">
                <h1 id="site-title"><a href="http://encukou.cz"><span class="_en">en</span><span class="_cu">cu</span><span class="_kou">kou</span>.cz</a></h1>
                <h2 id="site-description">primary colors underneath</h2>
        </div><!-- /#banner -->
        
        <div class="page-title">
        </div>

        <div id="menu">
            <div class="menu-navigation-container">
                <ul id="menu-navigation" class="menu">
                        <li class="menu-item menu-item-type-post_type menu-item-object-page _kou"><a href="mailto:encukou@gmail.com">e-mail</a></li>
                        <li class="menu-item menu-item-type-post_type menu-item-object-page _cu"><a href="http://github.com/encukou">github</a></li>
                        <li class="menu-item menu-item-type-post_type menu-item-object-page _en"><a href="https://twitter.com/encukou">twitter</a></li>
                        <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://encukou.cz">home</a></li>

                </ul>
            </div> <!--/#menu-navigation-container-->
        </div><!-- /#menu -->

        <div id="contents">

<div class="post type-post status-publish format-standard hentry category-general">
    <div class="entry-meta">
        <div class="date"><a href="http://encukou.cz/blog/2014/01/04/cs-promenne-v-pythonu">2014-01-04</a></div>
    </div> <!-- /#entry-meta -->
    <div class="main">
        <h2 class="entry-title">
            <a href="http://encukou.cz/blog/2014/01/04/cs-promenne-v-pythonu" title="Permalink to Jak fungují proměnné v Pythonu" rel="bookmark">Jak fungují proměnné v Pythonu</a>
        </h2>
        <div class="entry-content">
<p>Všechen kód by měl fungovat v&nbsp;Pythonu 2.7&nbsp;i&nbsp;3.3, pokud není napsáno&nbsp;jinak.</p>


<h2 id="prirazovani">Přiřazování</h2>
<p>Jak už víme, kromě proměnných dovoluje Python přiřazovat i&nbsp;do položek seznamu.
Kromě toho se ještě dá přiřazovat do atributů:</p>
<div class="highlight"><pre><span class="n">cislo</span> <span class="o">=</span> <span class="mi">3</span>   <span class="c"># přiřazení do proměnné</span>
<span class="n">seznam</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c"># přiřazení do položky seznamu</span>
<span class="n">objekt</span><span class="o">.</span><span class="n">atribut</span> <span class="o">=</span> <span class="mi">8</span>  <span class="c"># přiřazení do atributu</span>
</pre></div>


<p>Přiřazování do položky nebo atributu musí daný objekt „umět“.
Pokud je <code>seznam</code> opravdu seznam, a&nbsp;pokud je v&nbsp;něm nějaký prvek,
bude <code>seznam[0] = 4</code> fungovat.
Když to zkusíme s&nbsp;prázdným seznamem, dostaneme chybu.
Stejně tak dostaneme chybu, když máme z&nbsp;nějakého důvodu v&nbsp;proměnné <code>seznam</code>
třeba číslo (které nemá strukturu jako seznam, není&nbsp;<em>sekvence</em>).</p>
<p>Stejně tak to hodí chybu s řetězcem, který sice indexování umí
(<code>r[0]</code> vrátí první písmenko), ale jak popisuju výš nedá nijak&nbsp;měnit.</p>
<p>Co můžeme dát do oněch hranatých závorek taky závisí na typu objektu.
Slovníky podporují různé druhy klíčů.
Seznamy a řetězce podporují čísla (a&nbsp;zápornými čísly se indexuje odzadu),
nebo rozsahy (<em>slices</em>) jako <code>seznam[2:3]</code>.</p>
<p>Stejně tak u&nbsp;atributů záleží na typu objektu,
jestli nás&nbsp;nechá do toho kterého atributu zapsat.
Ze začátku se s&nbsp;tím moc nesetkáme, ale hned v&nbsp;první lekci objektového
programování začneme přiřazujovat do atributů&nbsp;<code>self</code>.</p>
<p>Základní objekt, do jehož položky nebo atributu přiřazujeme,
může být výsledek jakéhokoli výrazu.
Třeba i&nbsp;volání funkce:</p>
<div class="highlight"><pre><span class="n">seznam</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;jedna&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">vrat_seznam</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">seznam</span>
<span class="n">vrat_seznam</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">seznam</span><span class="p">)</span>  <span class="c"># → [0, 1, 2]</span>
</pre></div>


<h3 id="rozbalovaci-prirazeni">Rozbalovací přiřazení</h3>
<p>Python nám umožňuje „rozbalit“ (<em>unpack</em>) objekty jako n-tice a&nbsp;seznamy,
a&nbsp;přiřazovat tak do několika proměnných najednou.
Máme-li třeba funkci jako <code>divmod</code>, která vrací n-tici, dvojici (podíl, zbytek),
můžeme napsat:</p>
<div class="highlight"><pre><span class="n">podil</span><span class="p">,</span> <span class="n">zbytek</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>


<p>a&nbsp;nastavit tak obě proměnné.
Oproti krkolomnému zápisu</p>
<div class="highlight"><pre><span class="n">vysledek</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">podil</span> <span class="o">=</span> <span class="n">vysledek</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">zbytek</span> <span class="o">=</span> <span class="n">vysledek</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>


<p>rozbalovací přiřazení nejen přiřadí hodnoty, ale navíc zkontroluje,
že funkce opravdu vrátila právě dvě&nbsp;hodnoty.</p>
<p>Rozbalovací přiřazení se často používá na výměnu dvou hodnot:</p>
<div class="highlight"><pre><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
</pre></div>


<p>Jak to funguje?
Nejdřív&nbsp;se vyhodnotí výraz za rovnítkem, dvojice <code>(b, a)</code>.
Ta se pak rozbalí a&nbsp;přiřadí do proměnných <code>a</code>, <code>b</code>.<sup id="fnref:swap-optimization"><a class="footnote-ref" href="#fn:swap-optimization" rel="footnote">1</a></sup></p>
<p>Rozbalovat můžeme i&nbsp;na vnořené objekty.
Řekněme, budeme reprezentovat body v&nbsp;ploše dvojicemi souřadnic,
třeba <code>(0, 0)</code> a <code>(10, 10)</code>, a úsečky dvojicemi bodů.
Jednotlivé souřadnice můžeme získat jedním rozbalením,
pomocí závorek – vypadá to, jako bychom „přiřazovali do n-tice“:</p>
<div class="highlight"><pre><span class="n">cara</span> <span class="o">=</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>  <span class="c"># úsečka z (0, 0) do (10, 10)</span>
<span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="o">=</span> <span class="n">cara</span>  <span class="c"># rozbalení jednotlivých souřadnic</span>
</pre></div>


<p>Můžeme tu použít i&nbsp;závorky hranaté,
kde se chovají úplně steně, jen to vypadají trochu nezvykle:</p>
<div class="highlight"><pre><span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span> <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">]</span> <span class="o">=</span> <span class="n">cara</span>
</pre></div>


<p>Pokud předem nevíme, kolik hodnot má objekt který rozbalujeme,
můžeme v&nbsp;Pythonu 3&nbsp;do jedné proměnné dát seznam zbývajících hodnot.
Stačí ji označit hvězdičkou:</p>
<div class="highlight"><pre><span class="c"># Pouze v Pythonu 3</span>
<span class="n">prvni</span><span class="p">,</span> <span class="n">druhy</span><span class="p">,</span> <span class="o">*</span><span class="n">zbytek</span><span class="p">,</span> <span class="n">posledni</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">prvni</span><span class="p">)</span>  <span class="c"># → 0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">druhy</span><span class="p">)</span>  <span class="c"># → 1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">zbytek</span><span class="p">)</span>  <span class="c"># → [2, 3]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">posledni</span><span class="p">)</span>  <span class="c"># → 4</span>
</pre></div>


<p>Občas se stane že máme seznam s&nbsp;jedním prvkem.
Obvykle to bývá u&nbsp;struktur, kde jsou některé prvky vícehodnotové a&nbsp;jiné ne,
ale pro zachování „tvaru“ jsou všechny v&nbsp;seznamech.
Třeba HTML hlavičky: <!-- záznamy z&nbsp;LDAPu by asi nikomu nic neřekly :( --></p>
<div class="highlight"><pre><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;Server&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;example.com&#39;</span><span class="p">],</span>  <span class="c"># víme že &#39;Server&#39; bude vždy jen jeden</span>
    <span class="s">&#39;Connection&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;keep-alive&#39;</span><span class="p">],</span>
    <span class="s">&#39;Cache-Control&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;no-cache&#39;</span><span class="p">,</span> <span class="s">&#39;no-store&#39;</span><span class="p">],</span>  <span class="c"># ale tady je hodnot víc</span>
<span class="p">}</span>
</pre></div>


<p>Stejně jako n-tici s&nbsp;jedním prvkem píšeme <code>(1,)</code> a&nbsp;ne <code>(1)</code>,
u&nbsp;rozbalení musíme použít čárku navíc.
A&nbsp;nebo použijeme hranaté závorky:</p>
<div class="highlight"><pre><span class="p">(</span><span class="n">server</span><span class="p">,)</span> <span class="o">=</span> <span class="n">headers</span><span class="p">[</span><span class="s">&#39;server&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="n">server</span><span class="p">]</span> <span class="o">=</span> <span class="n">headers</span><span class="p">[</span><span class="s">&#39;server&#39;</span><span class="p">]</span>
</pre></div>


<p>Oproti <code>server = headers['server'][0]</code> je rozbalení bezpečnější:
ověří, že máme opravdu jen jeden&nbsp;prvek.</p>
<h3 id="rozsirene-prirazovani">Rozšířené přiřazování</h3>
<p>Komu samotné <code>=</code> nestačí, může použít tzv. rozšířené přiřazovací operátory
(<em>augmented assignment operators</em>), které kromě přiřazení
dělají nějakou operaci.
Jsou to
<code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code>, <code>&amp;=</code>, <code>|=</code>, <code>^=</code>, <code>&lt;&lt;=</code>, <code>&gt;&gt;=</code>, <code>**=</code>, a&nbsp;<code>//=</code>.</p>
<p>Například</p>
<div class="highlight"><pre><span class="n">promenna</span> <span class="o">+=</span> <span class="n">hodnota</span>
</pre></div>


<p>dělá téměř to samé jako</p>
<div class="highlight"><pre><span class="n">promenna</span> <span class="o">=</span> <span class="n">promenna</span> <span class="o">+</span> <span class="n">hodnota</span>
</pre></div>


<p>s&nbsp;tím rozdílem, že některé objekty, se tímto příkazem přímo změní.
Ilustruje to následující příklad:</p>
<div class="highlight"><pre><span class="n">seznam</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">druhy_seznam</span> <span class="o">=</span> <span class="n">seznam</span>
<span class="n">druhy_seznam</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>  <span class="c"># změna původního seznamu</span>
<span class="k">print</span><span class="p">(</span><span class="n">seznam</span><span class="p">)</span>  <span class="c"># → [1, 2, 3, 4]</span>
</pre></div>


<p>ale:</p>
<div class="highlight"><pre><span class="n">seznam</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">druhy_seznam</span> <span class="o">=</span> <span class="n">seznam</span>
<span class="n">druhy_seznam</span> <span class="o">=</span> <span class="n">druhy_seznam</span> <span class="o">+</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>  <span class="c"># vytvoření nového seznamu</span>
<span class="k">print</span><span class="p">(</span><span class="n">seznam</span><span class="p">)</span>  <span class="c"># → [1, 2, 3]</span>
</pre></div>


<p>Rozšířené přiřazení je proto záhodno používat <em>jen</em> tam,
kde měněný objekt není dostupný pod jinými&nbsp;jmény.</p>
<h3 id="dalsi-prirazujici-prikazy">Další přiřazující příkazy</h3>
<p>A&nbsp;komu nestačí <code>=</code> ani rozšířené přiřazení,
má na výběr vybrat z&nbsp;několika dalších příkazů, které přiřazují hodnoty.
Některé z&nbsp;nich možná ještě neznáte – nevadí, prostě je zatím přeskočte.
První z&nbsp;nich je ale snadvšem dobře známý:</p>
<div class="highlight"><pre><span class="k">for</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">hodnota</span><span class="p">)</span>
</pre></div>


<p>Příkaz <code>for</code> přiřazuje do své kontrolní proměnné.
A&nbsp;přiřazuje se vším všudy: můžeme v&nbsp;něm použít i&nbsp;rozbalování,
například při&nbsp;procházení slovníkem:</p>
<div class="highlight"><pre><span class="n">slovnik</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s">&#39;jedna&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&#39;dva&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s">&#39;tri&#39;</span><span class="p">}</span>
<span class="k">for</span> <span class="n">klic</span><span class="p">,</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="n">slovnik</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s"> -&gt; </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">klic</span><span class="p">,</span> <span class="n">hodnota</span><span class="p">))</span>
</pre></div>


<p>Stejně tak můžeme ve <code>for</code> přiřazovat do atributu nebo položky,
ale ještě jsem se nesetkal se situací, kdy by to bylo&nbsp;užitečné.</p>
<p>Stejně jako v&nbsp;příkazové formě <code>for</code> funguje přiřazení i&nbsp;v&nbsp;generátorových
notacích (<em>generator, list/dict/set&nbsp;comprehension</em>).</p>
<div class="highlight"><pre><span class="p">[</span><span class="o">...</span> <span class="k">for</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="o">...</span><span class="p">]</span>
<span class="p">(</span><span class="o">...</span> <span class="k">for</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="o">...</span><span class="p">)</span>
<span class="p">{</span><span class="o">...</span> <span class="k">for</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="o">...</span><span class="p">}</span>
</pre></div>


<p>Také příkazy <code>with</code> a <code>except</code> jsou, co se přiřazování týče, normální:</p>
<div class="highlight"><pre><span class="k">with</span> <span class="o">...</span> <span class="k">as</span> <span class="n">hodnota</span><span class="p">:</span> <span class="o">...</span>
<span class="k">except</span> <span class="o">...</span> <span class="k">as</span> <span class="n">hodnota</span><span class="p">:</span> <span class="o">...</span>
</pre></div>


<p>Jen pokud budeme z&nbsp;nějakého důvodu chtít rozbalovat,
je potřeba všechny zúčastněné proměnné uzavřít do závorek,
protože čárka tu už má (nebo měla) jiný význam.
Můžeme tedy napsat třeba šílenost jako:</p>
<div class="highlight"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;dvouradkovy_soubor.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="p">(</span><span class="n">radek1</span><span class="p">,</span> <span class="n">radek2</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">radek1</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">radek2</span><span class="p">)</span>
</pre></div>


<p>Další přiřazující příkaz je <code>import</code>, ve všech jeho podobách.
Na rozdíl od ostatních umí přiřadit jen do čistého jména proměnné;
položky ani atributy nemá rád.</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">hodnota</span><span class="o">,</span> <span class="nn">hodnota2</span>
<span class="kn">from</span> <span class="nn">modul</span> <span class="kn">import</span> <span class="n">hodnota</span><span class="p">,</span> <span class="n">hodnota2</span>
<span class="kn">import</span> <span class="nn">modul</span> <span class="kn">as</span> <span class="nn">hodnota</span>
<span class="kn">from</span> <span class="nn">modul</span> <span class="kn">import</span> <span class="n">vec</span> <span class="k">as</span> <span class="n">hodnota</span>
</pre></div>


<p>Ještě zajímavější jsou příkazy <code>def</code> a <code>class</code>.
Obě vytvoří nějaký objekt, ať už funkci nebo třídu,
a&nbsp;přiřadí jej do dané proměnné (zase ale umí pouze jednoduchá&nbsp;jména).</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">hodnota</span><span class="p">():</span>
    <span class="k">pass</span>
<span class="k">class</span> <span class="nc">hodnota</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>


<p>Navíc ale jméno „zapíše“ do vytvořeného objektu.
Funkce si bude sama „pamatovat“ jak se jmenuje,
nezávisle na proměnné ve které je&nbsp;uložena.</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">nejaka_funkce</span><span class="p">():</span>
    <span class="k">pass</span>
<span class="n">jine_jmeno</span> <span class="o">=</span> <span class="n">nejaka_funkce</span>
<span class="k">print</span><span class="p">(</span><span class="n">jine_jmeno</span><span class="p">)</span>  <span class="c"># → &lt;function nejaka_funkce ...&gt;</span>
</pre></div>


<p>Poslední (opravdu!) a&nbsp;nejexotičtější forma přiřazování jsou formální
argumenty funkcí.</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">funkce</span><span class="p">(</span><span class="n">hodnota</span><span class="p">,</span> <span class="n">hodnota2</span><span class="p">):</span> 
    <span class="k">print</span><span class="p">(</span><span class="n">hodnota2</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">funkce</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c"># → 2</span>
</pre></div>


<p>Hned po zavolání funkce se daná jména nastaví na předané hodnoty.
Děje se to v&nbsp;kontextu funkce,
takže, jak si povíme v&nbsp;příštím článku, vznikají lokální&nbsp;proměnné.</p>
<p>Opět zde není možné přiřazovat do položek či&nbsp;atributů.
V&nbsp;Pythonu 2&nbsp;sice v&nbsp;argumentech jde použít rozbalování,
ale nedoporučuju to dělat – už jen proto že
to nejnovější verze jazyka nepodporuje.</p>
<p>Funkce definované pomocí <code>lambda</code> se, co se argumentů týče,
samozřejmě chovají úplně stejně jako ty z&nbsp;<code>def</code>.</p>
<h2 id="jmenne-prostory">Jmenné prostory</h2>
<p>xxx: úvod</p>
<h3 id="lokalni-promenne">Lokální proměnné</h3>
<h3 id="hranice-jmennych-prostoru">Hranice jmenných prostorů</h3>
<h3 id="generatory-vwzxhzdk93pythonu-3">Generátory v&nbsp;Pythonu 3</h3>
<h2 id="identity-awzxhzdk94hodnoty">Identity a&nbsp;hodnoty</h2>
<h2 id="odpoved-sandre">(odpověď Sandře)</h2>
<p>Připravím obsáhlejší odpověď. Pro teď jen shrnutí, snad to bude trochu
pochopitelné:</p>
<p>Lokální proměnné se vytváří přiřazením: pokud je kdekoli ve funkci příkaz jako
    promenna = nejaka_hodnota
nebo jiné přiřazení, např:
    promenna += 1
    for promenna in 1, 2, 3: ...
    def promenna(a, b, c): ...
tak je <code>promenna</code> lokální, a "vnější" proměnná stejného názvu se úplně&nbsp;ignoruje.</p>
<p>Pokud tam žádný přiřazovací příkaz není, tak se lokální proměnná
nevytvoří, výrazy jako
    print promenna
    funkce(promenna)
budou používat globální proměnnou.</p>
<p>Příkaz <code>global</code> zabraňuje vytváření lokální proměnné v&nbsp;dané funkci,
takže se globální proměnné dá přiřadit.</p>
<p>Tenhle příkaz:
    x = promenna + 1
přiřazuje do <code>x</code>; z <code>promenna</code> nedělá lokální proměnnou.
Je-li v <code>promenna</code> seznam, po příkazu:
    promenna[0] = 24
bude v <code>promenna</code> stále stejný seznam, změní se jen hodnota "vevnitř".
Přiřazuje se do <code>promenna[0]</code>, nikoli do samotné <code>promenna</code>, takže to
zase nedělá lokální proměnnou.
Proto jsou v&nbsp;té hře všechny ty globální proměnné&nbsp;seznamy.</p>
<p>Bez globálních proměnných by se to dalo napsat objektově, ale to je na
delší projekt pro PyLadies 2014 :)</p>
<h2 id="zdroje-awzxhzdk99dalsi-materialy">Zdroje a&nbsp;další materiály</h2>
<ul>
<li>Dokumentace Pythonu, zvláště <a href="http://docs.python.org/2/reference/index.html">popis jazyka</a> a&nbsp;<a href="http://docs.python.org/2/reference/grammar.html">gramatiky</a>.</li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:swap-optimization">
<p>Další zjednodušení; tvořit nový objekt je zbytečně pomalé,
proto se v tomhle případě se v CPythonu n-tice ve skutečnosti nevytvoří.
Proměnné se prohodí přímo.
Ale efekt je stejný, jako kdyby se to dělo podle mého popisu.&#160;<a class="footnote-backref" href="#fnref:swap-optimization" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>        </div> <!--/#entry-content-->
            <span class="tag-links"><strong>📌</strong>
 <a href="http://encukou.cz/blog/tag/promenne" rel="tag">proměnné</a>,  <a href="http://encukou.cz/blog/tag/python" rel="tag">python</a>            </span>
    </div> <!--/#main-->
</div>  <!--/#post-->
        </div>


<ul class="prev-next">
</ul>
<span class="clearfix"></span>

<ul class="article-links">
        <li><a href=""><em>Forkni</em> si tenhle článek na Githubu</a></li>
</ul>


        <footer id="footer">
            <p>
        
    tento blog používá systém <a href="http://getpelican.com/">Pelican</a>
    <br>
    styl adaptovaný z <a href="https://github.com/tbunnyman/pelican-chunk">pelican-chunk</a>
        © <a href="https://twitter.com/thisistran">Tran</a>
        a <a href="http://bunnyman.info/">tBunnyMan</a>
    <br>
    použité fonty: Signika © <a href="https://plus.google.com/u/0/105016556070324621004/about">Anna Giedryś</a>
        a Jockey One © <a href="https://plus.google.com/u/0/109781094858738402812/posts">TypeTogether</a>
    <br>
    tento blog je na <a href="https://github.com/encukou/blog">Githubu</a>
    <br>
    <br>
    text na této stránce je k dispozici pod licencí
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">
            Creative Commons Attribution-ShareAlike 3.0 Unported</a>
    <br>
    © Petr Viktorin, <a href="http://encukou.cz">encukou.cz</a>
    
            </p>
        </footer>
    </div><!-- /#container -->
    <div style="display:none"></div>
</body>
</html>