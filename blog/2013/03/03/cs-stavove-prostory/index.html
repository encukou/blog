<!DOCTYPE html>
<html>
<head>
        <title>encukou/blog &mdash; StavovÃ© prostory</title>
        <meta charset="utf-8" />
        <link rel="profile" href="http://gmpg.org/xfn/11" />
        <link rel="stylesheet" type="text/css" href="http://encukou.cz/theme/css/style.css" />
        <link href='http://fonts.googleapis.com/css?family=Signika|Jockey+One&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
        <style type="text/css">
            body.custom-background { background-color: #f5f5f5; }
        </style>
        <link rel="alternate" type="application/atom+xml"
            title="encukou/blog â€” Atom"
            href="http://encukou.cz/" /> 
        <!--[if lte IE 8]><script src="http://encukou.cz/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background single-author" >
    <div id="container">
        <div id="header">
                <h1 id="site-title"><a href="http://encukou.cz"><span class="_en">en</span><span class="_cu">cu</span><span class="_kou">kou</span>.cz</a></h1>
                <h2 id="site-description">primary colors underneath</h2>
        </div><!-- /#banner -->
        
        <div class="page-title">
        </div>

        <div id="menu">
            <div class="menu-navigation-container">
                <ul id="menu-navigation" class="menu">
                        <li class="menu-item menu-item-type-post_type menu-item-object-page _kou"><a href="mailto:encukou@gmail.com">e-mail</a></li>
                        <li class="menu-item menu-item-type-post_type menu-item-object-page _cu"><a href="http://github.com/encukou">github</a></li>
                        <li class="menu-item menu-item-type-post_type menu-item-object-page _en"><a href="https://twitter.com/encukou">twitter</a></li>
                        <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://encukou.cz">home</a></li>

                </ul>
            </div> <!--/#menu-navigation-container-->
        </div><!-- /#menu -->

        <div id="contents">

<div class="post type-post status-publish format-standard hentry category-general">
    <div class="entry-meta">
        <div class="date"><a href="http://encukou.cz/blog/2013/03/03/cs-stavove-prostory">2013-03-03</a></div>
    </div> <!-- /#entry-meta -->
    <div class="main">
        <h2 class="entry-title">
            <a href="http://encukou.cz/blog/2013/03/03/cs-stavove-prostory" title="Permalink to StavovÃ© prostory" rel="bookmark">StavovÃ© prostory</a>
        </h2>
        <div class="entry-content">
<p><a href="http://glutexo.livejournal.com/137926.html">Glutexo pÃ­Å¡e</a>:</p>
<blockquote>
<p>Narazil jsem na drsnÃ© a&nbsp;vytÅ¯nÄ›nÃ© Sudoku: PodobÃ¡ se klasickÃ©mu killer sudoku:
V&nbsp;zaÄÃ¡tku neznÃ¡me Å¾Ã¡dnÃ¡ ÄÃ­sla, pouze mÃ¡me ohraniÄenÃ© spojitÃ© oblasti, u
kterÃ½ch vÅ¾dy vÃ­me souÄet ÄÃ­sel v&nbsp;nich, a&nbsp;takÃ© vÃ­me, Å¾e kromÄ› Å™Ã¡dkÅ¯, sloupcÅ¯
a ÄtvercÅ¯ se ani v&nbsp;tÄ›chto ohraniÄenÃ½ch oblastech ÄÃ­slice neopakujÃ­.

Å˜eÅ¡enÃ­ takovÃ©ho sudoku vÅ¡ak nejspÃ­Å¡e nenÃ­ unikÃ¡tnÃ­ (nakrmil jsem jÃ­m Å™eÅ¡Ã­tko,
kterÃ© jsem si naÅ¡el), ale vÃ½sledek nebyl takovÃ½, jakÃ½ jsem chtÄ›l: ChtÄ›l jsem
jinÃ© moÅ¾nÃ© Å™eÅ¡enÃ­, ne libovolnÃ©. A&nbsp;nejspÃ­Å¡e prÃ¡vÄ› proto je zadÃ¡nÃ­ obohaceno
jeÅ¡tÄ› o&nbsp;informace o&nbsp;nÄ›kterÃ½ch dvojicÃ­ch sousedÃ­cÃ­ch polÃ­Äek, Å¾e na jednÃ©
stranÄ› je ÄÃ­slo vÄ›tÅ¡Ã­ neÅ¾ to na&nbsp;druhÃ©.</p>
<p>ZajÃ­malo mÄ›, zda na to lze jÃ­t metodou hrubÃ© sÃ­ly, tedy projÃ­t si vÅ¡ech 9^81
kombinacÃ­ a&nbsp;porovnat je proti zadÃ¡nÃ­. NeÅ¡lo: Za deset minut bÄ›hu program
prokombinoval jen tÅ™ikrÃ¡t prvnÃ­ch osm pozic. TakÅ¾e neÅ¾ by proÅ¡el vÅ¡echny,
uplynula by pÅ™ibliÅ¾nÄ› vÄ›Änost. TakÅ¾e na to budeme muset jÃ­t jinak.&nbsp;Jak?</p>
<p>PÃ¡r moÅ¾nostÃ­ mÄ› napadÃ¡: NapÅ™. zjistit si pro kaÅ¾dou ohraniÄenou oblast
vÅ¡echny moÅ¾nÃ© kombinace ÄÃ­sel v&nbsp;rozsahu 1-9, kterÃ© dajÃ­ pÅ™i&nbsp;danÃ©m poÄtu polÃ­
danÃ½ souÄet a&nbsp;nÃ¡slednÄ› do oblastÃ­ dosazovat tato ÄÃ­sla ve vÅ¡ech moÅ¾nÃ½ch
kombinacÃ­ch. Pak uÅ¾ by staÄilo jen pro kaÅ¾dÃ© vyplnÄ›nÃ­ plochy jen zvalidovat,
zda platÃ­ zÃ¡kladnÃ­ pricipy sudoku a&nbsp;zda platÃ­ ona pravidla o&nbsp;tom, kterÃ© ze
sousednÃ­ch polÃ­ mÃ¡ obsahovat vÄ›tÅ¡Ã­ ÄÃ­slo. Ale nedostanu se tÃ­m opÄ›t do
astronomickÃ© mnoÅ¾stvÃ­ kombinacÃ­ a&nbsp;tak Äasu? UvidÃ­me, ale&nbsp;jindy.</p>
<p>Nebo mÃ¡te nÄ›kdo nÄ›jakÃ½ nÃ¡pad, nebo dokonce vÃ­te a&nbsp;jste ochotni mi Å™eÅ¡enÃ­
pÅ™edstavit a&nbsp;vysvÄ›tlit? RÃ¡d se&nbsp;pÅ™iuÄÃ­m.</p>
<p>A&nbsp;pokud by nÄ›koho zajÃ­malo zadÃ¡nÃ­, tak se jednÃ¡ o&nbsp;keÅ¡ku Loki's&nbsp;mystery
(GCZE5N).</p>
</blockquote>
<p>Napsal jsem program, kterÃ½ to vyluÅ¡tÃ­ za <s>11&nbsp;vteÅ™in</s>*, v&nbsp;pomalÃ©m Pythonu bez
velkÃ½ch optimalizacÃ­, jen s&nbsp;rozumnÃ½m algoritmem.
ZkusÃ­m tu docela detailnÄ› popsat jak na to. TÅ™eba to nebude nudnÃ©.
Kdyby nÄ›co naopak nebylo k&nbsp;pochopenÃ­, prosÃ­m ÄtenÃ¡Å™e, aby se&nbsp;ozval.</p>
<p>* <i>UpÅ™esnÄ›nÃ­: celÃ½ graf to projde za 3&nbsp;minuty, 11&nbsp;vteÅ™in bylo jen Å¡tÄ›stÃ­.</i></p>
<p>Na podobnÃ© Ãºlohy platÃ­ rÅ¯znÃ© techniky prohledÃ¡vÃ¡nÃ­ stavovÃ©ho prostoru.
Zrovna tady si vystaÄÃ­Å¡ s&nbsp;relativnÄ› jednoduchÃ½mi, takÅ¾e se to bude&nbsp;dobÅ™e
vysvÄ›tlovat.</p>
<p>NeÅ¾ zaÄneme se stavovÃ½m prostorem, musÃ­me vÄ›dÄ›t co je to stav.
Pro sudoku si stav mÅ¯Å¾eme definovat jako 9x9&nbsp;pole, kde v&nbsp;kaÅ¾dÃ©m polÃ­Äku
budou ÄÃ­slice, kterÃ© tam teoreticky mÅ¯Å¾ou nakonec vyjÃ­t.
V&nbsp;poÄÃ¡teÄnÃ­m stavu budou vÅ¡echna polÃ­Äka obsahovat vÅ¡ech 9&nbsp;moÅ¾nÃ½ch Äislic:</p>
<div class="highlight"><pre>â•”â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•—
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 1
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ¨ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ¨ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 2
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ§ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &lt; 4 5 6 &lt; 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â•‘ 3
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â• â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â• âˆ¨ â•â•â•¬â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•£
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â•‘ 4
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ¨ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 5
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ¨ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 &gt; 4 5 6 &lt; 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 6
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â• â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â• âˆ§ â•â•â•¬â•â• âˆ§ â•â•â•ªâ•â• âˆ¨ â•â•â•ªâ•â• âˆ§ â•â•â•£
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 7
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 8
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ§ â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 9
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•šâ•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•
    A       B       C       D       E       F       G       H       I
</pre></div>


<p>No a&nbsp;abychom se dostali dÃ¡l, budeme z&nbsp;tohohle stavu nÄ›kterÃ¡ ÄÃ­sla odebÃ­rat.
TÅ™eba, pro zaÄÃ¡tek, hrubou silou: vygenerujeme devÄ›t stavÅ¯, kterÃ© jsou stejnÃ©
jako tenhle pÅ¯vodnÃ­, jen v&nbsp;polÃ­Äku A1&nbsp;majÃ­ kaÅ¾dÃ½ vybranou jednu ÄÃ­slici.
TÅ™etÃ­ z&nbsp;nich by vypadal takhle:</p>
<div class="highlight"><pre>â•”â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•—
â•‘     3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘       â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 1
â•‘       â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ¨ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ¨ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 2
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ§ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &lt; 4 5 6 &lt; 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â•‘ 3
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â• â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â• âˆ¨ â•â•â•¬â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•£
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â•‘ 4
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ¨ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 5
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ¨ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 &gt; 4 5 6 &lt; 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 6
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â• â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â• âˆ§ â•â•â•¬â•â• âˆ§ â•â•â•ªâ•â• âˆ¨ â•â•â•ªâ•â• âˆ§ â•â•â•£
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 7
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 8
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ§ â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 9
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•šâ•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•
    A       B       C       D       E       F       G       H       I
</pre></div>


<p>Nu a&nbsp;z&nbsp;tohohle stavu se jde "dostat" do dalÅ¡Ã­ch devÃ­ti stavÅ¯, kaÅ¾dÃ©ho s&nbsp;jedinou
ÄÃ­slicÃ­ v&nbsp;polÃ­Äku B1.</p>
<p>Jeden z&nbsp;tÄ›chto novÃ½ch stavÅ¯ (B1==3) nebude odpovÃ­dat
pravidlÅ¯m. NavÃ­c vÅ¡echny dalÅ¡Ã­ stavy, kterÃ© z&nbsp;nÄ›j mÅ¯Å¾eme dostat odebÃ­rÃ¡nÃ­m
moÅ¾nostÃ­, budou taky Å¡patnÄ›. TakÅ¾e tenhle stav mÅ¯Å¾eme&nbsp;vylouÄit.</p>
<p>A&nbsp;tÃ­mhle zpÅ¯sobem dostaneme obrovitÃ¡nskÃ½ graf stavÅ¯.
Graf vytvoÅ™enÃ½ takhle hrubou silou bude aÅ¾ moc velkÃ½ na to, aby se dal rozumnÄ›
pozkoumat, ale dÅ¯leÅ¾itÃ© je, Å¾e obsahuje vÅ¡echny stavy odpovÃ­dajÃ­cÃ­ pravidlÅ¯m.
(VlastnÄ› je pro nÃ¡s&nbsp;dÅ¯leÅ¾itÃ© jen to, Å¾e urÄitÄ› obsahuje <em>Å™eÅ¡enÃ­</em> (pokud nÄ›jakÃ©
existuje), ale vzhledem k&nbsp;tomu Å¾e Å™eÅ¡enÃ­ neznÃ¡me, vÅ¡echny "sprÃ¡vnÃ©" stavy budou
muset staÄit.)</p>
<p>ZbÃ½vÃ¡ jen nÄ›jak zajistit, abychom nemuseli prochÃ¡zet ten graf celÃ½, ale
zkusili v&nbsp;nÄ›m hledat rozumnÃ© cesty a&nbsp;zkratky, kterÃ© nÃ¡s&nbsp;k&nbsp;cÃ­li dovedou co
nejrychleji. Tedy, pouÅ¾Ã­t nÄ›co lepÅ¡Ã­ho neÅ¾ hroubou&nbsp;sÃ­lu.</p>
<p>(Jen podotknu Å¾e ten graf nemusÃ­ bÃ½t nutnÄ› stromem; do jednoho stavu se mÅ¯Å¾e
dÃ¡t dostat nÄ›kolika rÅ¯znÃ½mi cestami.)</p>
<p>ZÃ¡kladnÃ­ schÃ©ma algoritmu na prohledÃ¡vÃ¡nÃ­ stavovÃ©ho prostoru je nÃ¡sledujÃ­cÃ­
(s&nbsp;komentÃ¡Å™i&nbsp;tam, kde PythonovÃ¡ syntax nenÃ­ naprosto pruhlednÃ¡):</p>
<div class="highlight"><pre><span class="nb">open</span> <span class="o">=</span> <span class="p">[</span><span class="n">initial_state</span><span class="p">]</span>  <span class="c"># `[v]` je seznam s jednÃ­m prvkem, `v`</span>
<span class="n">closed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>  <span class="c"># prÃ¡zdnÃ¡ mnoÅ¾ina</span>

<span class="k">while</span> <span class="nb">open</span><span class="p">:</span>  <span class="c"># dokud je nÄ›co v open</span>
    <span class="n">current</span> <span class="o">=</span> <span class="n">take_one</span><span class="p">(</span><span class="nb">open</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_goal</span><span class="p">(</span><span class="n">current</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">current</span>
    <span class="n">closed</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">current</span><span class="p">)</span>
    <span class="k">for</span> <span class="nb">next</span> <span class="ow">in</span> <span class="n">generate_next_states</span><span class="p">(</span><span class="n">current</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">next</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">closed</span> <span class="ow">and</span> <span class="n">is_valid</span><span class="p">(</span><span class="nb">next</span><span class="p">):</span>
            <span class="nb">open</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">next</span><span class="p">)</span>
</pre></div>


<p>Algoritmus nemÃ¡ k&nbsp;dispozici celÃ½ graf (to by se tÄ›Å¾ko veÅ¡lo do pamÄ›ti!),
ale "tvoÅ™Ã­" si ho pomocÃ­ funkce <code>generate_next_states</code>, kterÃ¡ prostÄ› vrÃ¡tÃ­
seznam stavÅ¯, do kterÃ½ch se z&nbsp;danÃ©ho stavu dÃ¡&nbsp;dostat.</p>
<p>MnoÅ¾ina <code>open</code> obsahuje vÅ¡echny stavy kterÃ© chceme jeÅ¡tÄ› prozkoumat, neboli
"hranici" zatÃ­m prozkoumanÃ© ÄÃ¡sti grafu. MnoÅ¾ina <code>closed</code> obsahuje stavy, kterÃ©
jsme uÅ¾ vidÄ›li; tÄ›mi se nemÃ¡ cenu zabÃ½vat, pokud na nÄ› narazÃ­me&nbsp;znovu.</p>
<p>ToÅ¾ to by byl uÄebnicovÃ½ algoritmus.
TeÄ teoreticky vÅ¡echno zÃ¡visÃ­ jen na tom, jak chytÅ™e navrhneme funkce
<code>take_one()</code> a <code>generate_next_states()</code>.
DÃ¡m nÄ›kolik tipÅ¯, kterÃ© jsem pouÅ¾il&nbsp;jÃ¡.</p>
<p>PÅ™Ã­mo v <code>generate_next_states</code> je dobrÃ© vyhazovat ÄÃ­sla, kterÃ¡ neodpovÃ­dajÃ­
pravidlÅ¯m. JÃ¡ jsem dal tuhle logiku pÅ™Ã­mo do konstruktoru tÅ™Ã­dy Stav, takÅ¾e
mÅ¯j prvnÃ­ stav vypadÃ¡ ve skuteÄnosti takhle:</p>
<div class="highlight"><pre>â•”â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•—
â•‘   2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚     3 â”‚   2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 1
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8   â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8   â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ¨ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ¨ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚ 1 2 3 â”‚   2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 2
â•‘       â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7     â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€ âˆ§ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘   2 3 â”‚     3 â”‚       â•‘ 1 2 3 â”‚ 1 2 3 â”‚     3 â•‘       â”‚   2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &lt; 4 5 6 &lt; 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â•‘ 3
â•‘ 7     â”‚ 7 8   â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8   â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8   â•‘
â• â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â• âˆ¨ â•â•â•¬â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•£
â•‘     3 â”‚       â”‚ 1 2 3 â•‘   2 3 â”‚ 1 2 3 â”‚   2 3 â•‘ 1 2 3 â”‚   2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â•‘ 4
â•‘ 7 8   â”‚ 7 8 9 â”‚ 7 8   â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7     â•‘       â”‚ 7 8 9 â”‚ 7 8   â•‘
â•Ÿâ”€â”€ âˆ¨ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘   2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚     3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 5
â•‘ 7     â”‚       â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ¨ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ 1 2 3 â”‚   2 3 â”‚ 1 2 3 â•‘   2 3 â”‚ 1 2 3 â”‚   2 3 â•‘ 1 2 3 â”‚   2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 &gt; 4 5 6 &lt; 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 6
â•‘ 7 8   â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7     â”‚ 7 8   â•‘ 7 8   â”‚ 7 8 9 â”‚ 7 8   â•‘
â• â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•ªâ•â• âˆ§ â•â•â•¬â•â• âˆ§ â•â•â•ªâ•â• âˆ¨ â•â•â•ªâ•â• âˆ§ â•â•â•£
â•‘ 1 2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚   2 3 â”‚     3 â•‘   2 3 â”‚ 1 2 3 â”‚   2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 7
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8   â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8   â”‚ 7 8 9 â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘   2 3 â”‚ 1 2 3 â”‚ 1 2 3 â•‘   2 3 â”‚ 1 2 3 â”‚   2 3 â•‘ 1 2 3 â”‚   2 3 â”‚ 1 2 3 â•‘
â•‘ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 &lt; 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 &gt; 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 8
â•‘ 7 8   â”‚ 7     â”‚ 7 8   â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8   â•‘ 7     â”‚ 7 8 9 â”‚ 7 8   â•‘
â•Ÿâ”€â”€ âˆ§ â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â•«â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€ âˆ§ â”€â”€â•¢
â•‘     3 â”‚   2 3 â”‚ 1 2 3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚     3 â•‘ 1 2 3 â”‚ 1 2 3 â”‚   2 3 â•‘
â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 4 5 6 â”‚ 4 5 6 â”‚ 4 5 6 â•‘ 9
â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘ 7 8 9 â”‚ 7 8 9 â”‚ 7 8 9 â•‘
â•šâ•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•
    A       B       C       D       E       F       G       H       I
</pre></div>


<p>Moje implementace tu dÄ›lÃ¡ nÄ›kolik vÄ›cÃ­:</p>
<ul>
<li>vyhazuje ÄÃ­sla podle zadanÃ½ch nerovnostÃ­ (pokud mÃ¡ jedno ÄÃ­slo
bÃ½t vÄ›tÅ¡Ã­ neÅ¾ druhÃ©, kterÃ© mÅ¯Å¾e bÃ½t 3-8, tak bude urÄitÄ› 4&nbsp;nebo&nbsp;vÃ­c).</li>
<li>vyhazuje ÄÃ­sla z Å™Ã¡dkÅ¯, sloupcÅ¯, ÄtvercÅ¯ a&nbsp;oblastÃ­, pokud v&nbsp;jinÃ©m polÃ­Äku
  je uÅ¾ danÃ© ÄÃ­slo vybranÃ©</li>
<li>vyhazuje ÄÃ­sla, kterÃ¡ nemÅ¯Å¾ou dÃ¡t danÃ½ souÄet pro oblast</li>
<li>jeÅ¡tÄ› by mohla vybrat ÄÃ­slo, pokud se v Å™Ã¡dku/sloupci/Ätverci jen jedno
  polÃ­Äko kde je to ÄÃ­slo moÅ¾nÃ©, ale naÅ¡el jsem Å™eÅ¡enÃ­ neÅ¾ jsem tohle stihl
  napsat, tak jsem se na to vykaÅ¡lal.</li>
</ul>
<p>TÃ­m, Å¾e tohle dÄ›lÃ¡m co nejdÅ™Ã­v, se vyhÃ½bÃ¡m spoustÄ› zbyteÄnÃ½ch stavÅ¯. Vzhledem k
tomu, Å¾e kaÅ¾dÃ½ stav nejen potÅ™ebuje nÄ›jakÃ½ ten procesorovÃ½ Äas a&nbsp;pamÄ›Å¥, ale
navÃ­c se pak mnoÅ¾Ã­ jak krÃ¡lÃ­k&nbsp;v&nbsp;AustrÃ¡lii, je dobrÃ© takhle normalizovat&nbsp;co
nejagresivnÄ›ji.</p>
<p>DalÅ¡Ã­ mÃ­sto, kde je moÅ¾nÃ© algoritmus potunit, je vÃ½bÄ›r polÃ­Äka, ve kterÃ©m se
budou generovanÃ© stavy liÅ¡it.
JÃ¡ vÅ¾dycky vyberu polÃ­Äko s&nbsp;nejniÅ¾Å¡Ã­m poÄtem moÅ¾nostÃ­ (kromÄ› 1, samozÅ™ejmÄ›).
TÃ­m docÃ­lÃ­m toho, Å¾e kaÅ¾dÃ½ stav mÃ¡ co nejmenÅ¡Ã­ poÄet "potomkÅ¯", takÅ¾e graf
neroste tak rychle.
Je samozÅ™ejmÄ› moÅ¾nÃ© zvolit ÃºplnÄ› jinou strategii. Fungovalo by tÅ™eba udÄ›lat
potomky dva: jednoho s&nbsp;prvnÃ­ moÅ¾nostÃ­ v&nbsp;danÃ©m polÃ­Äku, a&nbsp;druhÃ©ho s&nbsp;moÅ¾nostmi
ostatnÃ­mi. Dokonce nenÃ­ nutnÃ© generovat stavy liÅ¡Ã­cÃ­ se jen v&nbsp;jednom polÃ­Äku.
Jen je dÅ¯leÅ¾itÃ©, aby existovala cesta ke kaÅ¾dÃ©mu validnÃ­mu stavu (nebo teda
aspoÅˆ k&nbsp;tomu cÃ­lovÃ©mu).</p>
<p>Tohle tunÄ›nÃ­ tvaruje prozkoumÃ¡vanou oblast grafu, je tak Å¡irÅ¡Ã­ nebo hlubÅ¡Ã­,
rozvÄ›tvenÄ›jÅ¡Ã­ nebo kompaktnÄ›jÅ¡Ã­.
NÄ›jakÃ© velkÃ© optimalizovÃ¡nÃ­ je silnÄ› zÃ¡vislÃ© na problÃ©mu,
a&nbsp;je to leckdy spÃ­Å¡ umÄ›nÃ­ neÅ¾ exaktnÃ­ vÄ›da.
NaÅ¡tÄ›stÃ­ na tohle sudoku nic moc sloÅ¾itÃ©ho potÅ™eba&nbsp;nenÃ­.</p>
<p>No a&nbsp;snad poslednÃ­ kritickÃ© mÃ­sto v&nbsp;algoritmu je funkce <code>take_one</code>, kterÃ¡ vyjme
a&nbsp;vrÃ¡tÃ­ dalÅ¡Ã­ stav, kterÃ½m se bude program zabÃ½vat.
MÅ¯Å¾e napÅ™Ã­klad zvolit vÅ¾dycky nejstarÅ¡Ã­ prvek ze seznamu (v&nbsp;tom pÅ™Ã­padÄ› jde o
hledÃ¡nÃ­ "do Å¡Ã­Å™ky", kterÃ© se vyplatÃ­ tÅ™eba pokud vÃ­me Å¾e cÃ­l nenÃ­ v&nbsp;grafu
pÅ™Ã­liÅ¡ hluboko), nebo naopak nejnovÄ›jÅ¡Ã­ (hledÃ¡nÃ­ do hloubky).
Taky jde jednotlivÃ½m stavÅ¯m pÅ™iÅ™adit skÃ³re, a&nbsp;vÅ¾dycky vybrat ten stav, kterÃ½
nejvÃ­c vypadÃ¡ Å¾e povede ke sprÃ¡vnÃ©mu Å™eÅ¡enÃ­.
Vyrobit na tohle dobrou hodnotÃ­cÃ­ funkci je celkem kumÅ¡t; jÃ¡ to tady zkusil,
ale nakonec jsem zjistil Å¾e je to rychlejÅ¡Ã­ bez&nbsp;nÃ­.</p>
<p>(Na takovÃ© hodnotÃ­cÃ­ funkci jsou pak zaloÅ¾enÃ© algoritmy jako A*, kterÃ© nejen Å¾e
ve stavovÃ©m prostoru najdou cÃ­l, ale vrÃ¡tÃ­ opotimÃ¡lnÃ­ cÃ­l a&nbsp;optimÃ¡lnÃ­ cestu k
nÄ›mu. TypickÃ© pouÅ¾itÃ­: AI ve hrÃ¡ch.)</p>
<p>A&nbsp;na zÃ¡vÄ›r jeden tip: je dobrÃ© investovat nÄ›jakÃ½ Äas do funkcÃ­ na zobrazenÃ­
stavÅ¯ nebo toho, jak si algoritmus vede (napÅ™. velikosti mnoÅ¾in <code>open</code> a
<code>closed</code>; cesta grafem k&nbsp;prÃ¡vÄ› prohledÃ¡vanÃ©mu stavu, atd.).
MoÅ¾nÃ¡ nenÃ­ potÅ™eba to pÅ™ehÃ¡nÄ›t jako jÃ¡ (ty ASCII-arty vÃ½Å¡e jsou v&nbsp;mÃ©m programu
navÃ­c obarvenÃ© podle oblastÃ­ se souÄtem), ale cokoli pomÅ¯Å¾e pochopit to, co se
vevnitÅ™ dÄ›je, hodnÄ› pomÃ¡hÃ¡.</p>
<p>ToÅ¾ pÅ™eji hezkÃ© programovÃ¡nÃ­, snad tenhle vÃ½lev trochu&nbsp;pomÅ¯Å¾e.</p>        </div> <!--/#entry-content-->
            <span class="tag-links"><strong>ğŸ“Œ</strong>
 <a href="http://encukou.cz/blog/tag/algorithm" rel="tag">algorithm</a>,  <a href="http://encukou.cz/blog/tag/geocaching" rel="tag">geocaching</a>            </span>
        <ul class="article-links">
                <li><a href="mailto:encukou@gmail.com?subject=Re:+ÄlÃ¡nek+'Stavov%C3%A9%20prostory'">PÅ™idat <em>komentÃ¡Å™</em></a></li>
                <li><a href="https://github.com/encukou/blog/blob/master/posts/2013-03-03-cs-stavove-prostory.md"><em>Forknout</em> tenhle ÄlÃ¡nek na Githubu</a></li>
        </ul>
    </div> <!--/#main-->
</div>  <!--/#post-->
        </div>


<ul class="prev-next">
    <li class="prev">
        <a href="http://encukou.cz/blog/2011/11/21/cs-caps-lock-a-prepinani-klavesnice">
            Caps Lock a pÅ™epÃ­nÃ¡nÃ­ klÃ¡vesnice
        </a>
    </li>
    <li class="next">
        <a href="http://encukou.cz/blog/2013/05/04/en-raspberry-third-screen">
            Raspberry Pi and my Third Screen
        </a>
    </li>
</ul>
<span class="clearfix"></span>


        <footer id="footer">
            <p>
        
    tento blog pouÅ¾Ã­vÃ¡ systÃ©m <a href="http://getpelican.com/">Pelican</a>
    <br>
    styl adaptovanÃ½ z <a href="https://github.com/tbunnyman/pelican-chunk">pelican-chunk</a>
        Â© <a href="https://twitter.com/thisistran">Tran</a>
        a <a href="http://bunnyman.info/">tBunnyMan</a>
    <br>
    pouÅ¾itÃ© fonty: Signika Â© <a href="https://plus.google.com/u/0/105016556070324621004/about">Anna GiedryÅ›</a>
        a Jockey One Â© <a href="https://plus.google.com/u/0/109781094858738402812/posts">TypeTogether</a>
    <br>
    tento blog je na <a href="https://github.com/encukou/blog">Githubu</a>
    <br>
    <br>
    text na tÃ©to strÃ¡nce je k dispozici pod licencÃ­
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">
            Creative Commons Attribution-ShareAlike 3.0 Unported</a>
    <br>
    Â© Petr Viktorin, <a href="http://encukou.cz">encukou.cz</a>
    
            </p>
        </footer>
    </div><!-- /#container -->
    <div style="display:none"></div>
</body>
</html>