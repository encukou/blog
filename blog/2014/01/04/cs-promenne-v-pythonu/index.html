<!DOCTYPE html>
<html>
<head>
        <title>encukou/blog &mdash; Jak fungujÃ­ promÄ›nnÃ© v Pythonu</title>
        <meta charset="utf-8" />
        <link rel="profile" href="http://gmpg.org/xfn/11" />
        <link rel="stylesheet" type="text/css" href="http://encukou.cz/theme/css/style.css" />
        <link href='http://fonts.googleapis.com/css?family=Signika|Jockey+One&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
        <style type="text/css">
            body.custom-background { background-color: #f5f5f5; }
        </style>
        <link rel="alternate" type="application/atom+xml"
            title="encukou/blog â€” Atom"
            href="http://encukou.cz/" /> 
        <!--[if lte IE 8]><script src="http://encukou.cz/theme/js/html5shiv.js"></script><![endif]-->
</head>

<body class="home blog custom-background single-author" >
    <div id="container">
        <div id="header">
                <h1 id="site-title"><a href="http://encukou.cz"><span class="_en">en</span><span class="_cu">cu</span><span class="_kou">kou</span>.cz</a></h1>
                <h2 id="site-description">primary colors underneath</h2>
        </div><!-- /#banner -->
        
        <div class="page-title">
        </div>

        <div id="menu">
            <div class="menu-navigation-container">
                <ul id="menu-navigation" class="menu">
                        <li class="menu-item menu-item-type-post_type menu-item-object-page _kou"><a href="mailto:encukou@gmail.com">e-mail</a></li>
                        <li class="menu-item menu-item-type-post_type menu-item-object-page _cu"><a href="http://github.com/encukou">github</a></li>
                        <li class="menu-item menu-item-type-post_type menu-item-object-page _en"><a href="https://twitter.com/encukou">twitter</a></li>
                        <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://encukou.cz">home</a></li>

                </ul>
            </div> <!--/#menu-navigation-container-->
        </div><!-- /#menu -->

        <div id="contents">

<div class="post type-post status-publish format-standard hentry category-general">
    <div class="entry-meta">
        <div class="date"><a href="http://encukou.cz/blog/2014/01/04/cs-promenne-v-pythonu">2014-01-04</a></div>
    </div> <!-- /#entry-meta -->
    <div class="main">
        <h2 class="entry-title">
            <a href="http://encukou.cz/blog/2014/01/04/cs-promenne-v-pythonu" title="Permalink to Jak fungujÃ­ promÄ›nnÃ© v Pythonu" rel="bookmark">Jak fungujÃ­ promÄ›nnÃ© v Pythonu</a>
        </h2>
        <div class="entry-content">
<p>VÅ¡echen kÃ³d by mÄ›l fungovat v&nbsp;Pythonu 2.7&nbsp;i&nbsp;3.3, pokud nenÃ­ napsÃ¡no&nbsp;jinak.</p>


<h2 id="prirazovani">PÅ™iÅ™azovÃ¡nÃ­</h2>
<p>Jak uÅ¾ vÃ­me, kromÄ› promÄ›nnÃ½ch dovoluje Python pÅ™iÅ™azovat i&nbsp;do poloÅ¾ek seznamu.
KromÄ› toho se jeÅ¡tÄ› dÃ¡ pÅ™iÅ™azovat do atributÅ¯:</p>
<div class="highlight"><pre><span class="n">cislo</span> <span class="o">=</span> <span class="mi">3</span>   <span class="c"># pÅ™iÅ™azenÃ­ do promÄ›nnÃ©</span>
<span class="n">seznam</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c"># pÅ™iÅ™azenÃ­ do poloÅ¾ky seznamu</span>
<span class="n">objekt</span><span class="o">.</span><span class="n">atribut</span> <span class="o">=</span> <span class="mi">8</span>  <span class="c"># pÅ™iÅ™azenÃ­ do atributu</span>
</pre></div>


<p>PÅ™iÅ™azovÃ¡nÃ­ do poloÅ¾ky nebo atributu musÃ­ danÃ½ objekt â€umÄ›tâ€œ.
Pokud je <code>seznam</code> opravdu seznam, a&nbsp;pokud je v&nbsp;nÄ›m nÄ›jakÃ½ prvek,
bude <code>seznam[0] = 4</code> fungovat.
KdyÅ¾ to zkusÃ­me s&nbsp;prÃ¡zdnÃ½m seznamem, dostaneme chybu.
StejnÄ› tak dostaneme chybu, kdyÅ¾ mÃ¡me z&nbsp;nÄ›jakÃ©ho dÅ¯vodu v&nbsp;promÄ›nnÃ© <code>seznam</code>
tÅ™eba ÄÃ­slo (kterÃ© nemÃ¡ strukturu jako seznam, nenÃ­&nbsp;<em>sekvence</em>).</p>
<p>StejnÄ› tak to hodÃ­ chybu s Å™etÄ›zcem, kterÃ½ sice indexovÃ¡nÃ­ umÃ­
(<code>r[0]</code> vrÃ¡tÃ­ prvnÃ­ pÃ­smenko), ale jak popisuju vÃ½Å¡ nedÃ¡ nijak&nbsp;mÄ›nit.</p>
<p>Co mÅ¯Å¾eme dÃ¡t do onÄ›ch hranatÃ½ch zÃ¡vorek taky zÃ¡visÃ­ na typu objektu.
SlovnÃ­ky podporujÃ­ rÅ¯znÃ© druhy klÃ­ÄÅ¯.
Seznamy a Å™etÄ›zce podporujÃ­ ÄÃ­sla (a&nbsp;zÃ¡pornÃ½mi ÄÃ­sly se indexuje odzadu),
nebo rozsahy (<em>slices</em>) jako <code>seznam[2:3]</code>.</p>
<p>StejnÄ› tak u&nbsp;atributÅ¯ zÃ¡leÅ¾Ã­ na typu objektu,
jestli nÃ¡s&nbsp;nechÃ¡ do toho kterÃ©ho atributu zapsat.
Ze zaÄÃ¡tku se s&nbsp;tÃ­m moc nesetkÃ¡me, ale hned v&nbsp;prvnÃ­ lekci objektovÃ©ho
programovÃ¡nÃ­ zaÄneme pÅ™iÅ™azujovat do atributÅ¯&nbsp;<code>self</code>.</p>
<p>ZÃ¡kladnÃ­ objekt, do jehoÅ¾ poloÅ¾ky nebo atributu pÅ™iÅ™azujeme,
mÅ¯Å¾e bÃ½t vÃ½sledek jakÃ©hokoli vÃ½razu.
TÅ™eba i&nbsp;volÃ¡nÃ­ funkce:</p>
<div class="highlight"><pre><span class="n">seznam</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;jedna&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">vrat_seznam</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">seznam</span>
<span class="n">vrat_seznam</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">seznam</span><span class="p">)</span>  <span class="c"># â†’ [0, 1, 2]</span>
</pre></div>


<h3 id="rozbalovaci-prirazeni">RozbalovacÃ­ pÅ™iÅ™azenÃ­</h3>
<p>Python nÃ¡m umoÅ¾Åˆuje â€rozbalitâ€œ (<em>unpack</em>) objekty jako n-tice a&nbsp;seznamy,
a&nbsp;pÅ™iÅ™azovat tak do nÄ›kolika promÄ›nnÃ½ch najednou.
MÃ¡me-li tÅ™eba funkci jako <code>divmod</code>, kterÃ¡ vracÃ­ n-tici, dvojici (podÃ­l, zbytek),
mÅ¯Å¾eme napsat:</p>
<div class="highlight"><pre><span class="n">podil</span><span class="p">,</span> <span class="n">zbytek</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>


<p>a&nbsp;nastavit tak obÄ› promÄ›nnÃ©.
Oproti krkolomnÃ©mu zÃ¡pisu</p>
<div class="highlight"><pre><span class="n">vysledek</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">podil</span> <span class="o">=</span> <span class="n">vysledek</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">zbytek</span> <span class="o">=</span> <span class="n">vysledek</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>


<p>rozbalovacÃ­ pÅ™iÅ™azenÃ­ nejen pÅ™iÅ™adÃ­ hodnoty, ale navÃ­c zkontroluje,
Å¾e funkce opravdu vrÃ¡tila prÃ¡vÄ› dvÄ›&nbsp;hodnoty.</p>
<p>RozbalovacÃ­ pÅ™iÅ™azenÃ­ se Äasto pouÅ¾Ã­vÃ¡ na vÃ½mÄ›nu dvou hodnot:</p>
<div class="highlight"><pre><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
</pre></div>


<p>Jak to funguje?
NejdÅ™Ã­v&nbsp;se vyhodnotÃ­ vÃ½raz za rovnÃ­tkem, dvojice <code>(b, a)</code>.
Ta se pak rozbalÃ­ a&nbsp;pÅ™iÅ™adÃ­ do promÄ›nnÃ½ch <code>a</code>, <code>b</code>.<sup id="fnref:swap-optimization"><a class="footnote-ref" href="#fn:swap-optimization" rel="footnote">1</a></sup></p>
<p>Rozbalovat mÅ¯Å¾eme i&nbsp;na vnoÅ™enÃ© objekty.
Å˜eknÄ›me, budeme reprezentovat body v&nbsp;ploÅ¡e dvojicemi souÅ™adnic,
tÅ™eba <code>(0, 0)</code> a <code>(10, 10)</code>, a ÃºseÄky dvojicemi bodÅ¯.
JednotlivÃ© souÅ™adnice mÅ¯Å¾eme zÃ­skat jednÃ­m rozbalenÃ­m,
pomocÃ­ zÃ¡vorek â€“ vypadÃ¡ to, jako bychom â€pÅ™iÅ™azovali do n-ticeâ€œ:</p>
<div class="highlight"><pre><span class="n">cara</span> <span class="o">=</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>  <span class="c"># ÃºseÄka z (0, 0) do (10, 10)</span>
<span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="o">=</span> <span class="n">cara</span>  <span class="c"># rozbalenÃ­ jednotlivÃ½ch souÅ™adnic</span>
</pre></div>


<p>MÅ¯Å¾eme tu pouÅ¾Ã­t i&nbsp;zÃ¡vorky hranatÃ©,
kde se chovajÃ­ ÃºplnÄ› stenÄ›, jen to vypadajÃ­ trochu nezvykle:</p>
<div class="highlight"><pre><span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">],</span> <span class="p">[</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">]</span> <span class="o">=</span> <span class="n">cara</span>
</pre></div>


<p>Pokud pÅ™edem nevÃ­me, kolik hodnot mÃ¡ objekt kterÃ½ rozbalujeme,
mÅ¯Å¾eme v&nbsp;Pythonu 3&nbsp;do jednÃ© promÄ›nnÃ© dÃ¡t seznam zbÃ½vajÃ­cÃ­ch hodnot.
StaÄÃ­ ji oznaÄit hvÄ›zdiÄkou:</p>
<div class="highlight"><pre><span class="c"># Pouze v Pythonu 3</span>
<span class="n">prvni</span><span class="p">,</span> <span class="n">druhy</span><span class="p">,</span> <span class="o">*</span><span class="n">zbytek</span><span class="p">,</span> <span class="n">posledni</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">prvni</span><span class="p">)</span>  <span class="c"># â†’ 0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">druhy</span><span class="p">)</span>  <span class="c"># â†’ 1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">zbytek</span><span class="p">)</span>  <span class="c"># â†’ [2, 3]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">posledni</span><span class="p">)</span>  <span class="c"># â†’ 4</span>
</pre></div>


<p>ObÄas se stane Å¾e mÃ¡me seznam s&nbsp;jednÃ­m prvkem.
Obvykle to bÃ½vÃ¡ u&nbsp;struktur, kde jsou nÄ›kterÃ© prvky vÃ­cehodnotovÃ© a&nbsp;jinÃ© ne,
ale pro zachovÃ¡nÃ­ â€tvaruâ€œ jsou vÅ¡echny v&nbsp;seznamech.
TÅ™eba HTML hlaviÄky: <!-- zÃ¡znamy z&nbsp;LDAPu by asi nikomu nic neÅ™ekly :( --></p>
<div class="highlight"><pre><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;Server&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;example.com&#39;</span><span class="p">],</span>  <span class="c"># vÃ­me Å¾e &#39;Server&#39; bude vÅ¾dy jen jeden</span>
    <span class="s">&#39;Connection&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;keep-alive&#39;</span><span class="p">],</span>
    <span class="s">&#39;Cache-Control&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;no-cache&#39;</span><span class="p">,</span> <span class="s">&#39;no-store&#39;</span><span class="p">],</span>  <span class="c"># ale tady je hodnot vÃ­c</span>
<span class="p">}</span>
</pre></div>


<p>StejnÄ› jako n-tici s&nbsp;jednÃ­m prvkem pÃ­Å¡eme <code>(1,)</code> a&nbsp;ne <code>(1)</code>,
u&nbsp;rozbalenÃ­ musÃ­me pouÅ¾Ã­t ÄÃ¡rku navÃ­c.
A&nbsp;nebo pouÅ¾ijeme hranatÃ© zÃ¡vorky:</p>
<div class="highlight"><pre><span class="p">(</span><span class="n">server</span><span class="p">,)</span> <span class="o">=</span> <span class="n">headers</span><span class="p">[</span><span class="s">&#39;server&#39;</span><span class="p">]</span>
<span class="p">[</span><span class="n">server</span><span class="p">]</span> <span class="o">=</span> <span class="n">headers</span><span class="p">[</span><span class="s">&#39;server&#39;</span><span class="p">]</span>
</pre></div>


<p>Oproti <code>server = headers['server'][0]</code> je rozbalenÃ­ bezpeÄnÄ›jÅ¡Ã­:
ovÄ›Å™Ã­, Å¾e mÃ¡me opravdu jen jeden&nbsp;prvek.</p>
<h3 id="rozsirene-prirazovani">RozÅ¡Ã­Å™enÃ© pÅ™iÅ™azovÃ¡nÃ­</h3>
<p>Komu samotnÃ© <code>=</code> nestaÄÃ­, mÅ¯Å¾e pouÅ¾Ã­t tzv. rozÅ¡Ã­Å™enÃ© pÅ™iÅ™azovacÃ­ operÃ¡tory
(<em>augmented assignment operators</em>), kterÃ© kromÄ› pÅ™iÅ™azenÃ­
dÄ›lajÃ­ nÄ›jakou operaci.
Jsou to
<code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code>, <code>&amp;=</code>, <code>|=</code>, <code>^=</code>, <code>&lt;&lt;=</code>, <code>&gt;&gt;=</code>, <code>**=</code>, a&nbsp;<code>//=</code>.</p>
<p>NapÅ™Ã­klad</p>
<div class="highlight"><pre><span class="n">promenna</span> <span class="o">+=</span> <span class="n">hodnota</span>
</pre></div>


<p>dÄ›lÃ¡ tÃ©mÄ›Å™ to samÃ© jako</p>
<div class="highlight"><pre><span class="n">promenna</span> <span class="o">=</span> <span class="n">promenna</span> <span class="o">+</span> <span class="n">hodnota</span>
</pre></div>


<p>s&nbsp;tÃ­m rozdÃ­lem, Å¾e nÄ›kterÃ© objekty, se tÃ­mto pÅ™Ã­kazem pÅ™Ã­mo zmÄ›nÃ­.
Ilustruje to nÃ¡sledujÃ­cÃ­ pÅ™Ã­klad:</p>
<div class="highlight"><pre><span class="n">seznam</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">druhy_seznam</span> <span class="o">=</span> <span class="n">seznam</span>
<span class="n">druhy_seznam</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>  <span class="c"># zmÄ›na pÅ¯vodnÃ­ho seznamu</span>
<span class="k">print</span><span class="p">(</span><span class="n">seznam</span><span class="p">)</span>  <span class="c"># â†’ [1, 2, 3, 4]</span>
</pre></div>


<p>ale:</p>
<div class="highlight"><pre><span class="n">seznam</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">druhy_seznam</span> <span class="o">=</span> <span class="n">seznam</span>
<span class="n">druhy_seznam</span> <span class="o">=</span> <span class="n">druhy_seznam</span> <span class="o">+</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>  <span class="c"># vytvoÅ™enÃ­ novÃ©ho seznamu</span>
<span class="k">print</span><span class="p">(</span><span class="n">seznam</span><span class="p">)</span>  <span class="c"># â†’ [1, 2, 3]</span>
</pre></div>


<p>RozÅ¡Ã­Å™enÃ© pÅ™iÅ™azenÃ­ je proto zÃ¡hodno pouÅ¾Ã­vat <em>jen</em> tam,
kde mÄ›nÄ›nÃ½ objekt nenÃ­ dostupnÃ½ pod jinÃ½mi&nbsp;jmÃ©ny.</p>
<h3 id="dalsi-prirazujici-prikazy">DalÅ¡Ã­ pÅ™iÅ™azujÃ­cÃ­ pÅ™Ã­kazy</h3>
<p>A&nbsp;komu nestaÄÃ­ <code>=</code> ani rozÅ¡Ã­Å™enÃ© pÅ™iÅ™azenÃ­,
mÃ¡ na vÃ½bÄ›r vybrat z&nbsp;nÄ›kolika dalÅ¡Ã­ch pÅ™Ã­kazÅ¯, kterÃ© pÅ™iÅ™azujÃ­ hodnoty.
NÄ›kterÃ© z&nbsp;nich moÅ¾nÃ¡ jeÅ¡tÄ› neznÃ¡te â€“ nevadÃ­, prostÄ› je zatÃ­m pÅ™eskoÄte.
PrvnÃ­ z&nbsp;nich je ale snadvÅ¡em dobÅ™e znÃ¡mÃ½:</p>
<div class="highlight"><pre><span class="k">for</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">hodnota</span><span class="p">)</span>
</pre></div>


<p>PÅ™Ã­kaz <code>for</code> pÅ™iÅ™azuje do svÃ© kontrolnÃ­ promÄ›nnÃ©.
A&nbsp;pÅ™iÅ™azuje se vÅ¡Ã­m vÅ¡udy: mÅ¯Å¾eme v&nbsp;nÄ›m pouÅ¾Ã­t i&nbsp;rozbalovÃ¡nÃ­,
napÅ™Ã­klad pÅ™i&nbsp;prochÃ¡zenÃ­ slovnÃ­kem:</p>
<div class="highlight"><pre><span class="n">slovnik</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s">&#39;jedna&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">&#39;dva&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s">&#39;tri&#39;</span><span class="p">}</span>
<span class="k">for</span> <span class="n">klic</span><span class="p">,</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="n">slovnik</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s"> -&gt; </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">klic</span><span class="p">,</span> <span class="n">hodnota</span><span class="p">))</span>
</pre></div>


<p>StejnÄ› tak mÅ¯Å¾eme ve <code>for</code> pÅ™iÅ™azovat do atributu nebo poloÅ¾ky,
ale jeÅ¡tÄ› jsem se nesetkal se situacÃ­, kdy by to bylo&nbsp;uÅ¾iteÄnÃ©.</p>
<p>StejnÄ› jako v&nbsp;pÅ™Ã­kazovÃ© formÄ› <code>for</code> funguje pÅ™iÅ™azenÃ­ i&nbsp;v&nbsp;generÃ¡torovÃ½ch
notacÃ­ch (<em>generator, list/dict/set&nbsp;comprehension</em>).</p>
<div class="highlight"><pre><span class="p">[</span><span class="o">...</span> <span class="k">for</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="o">...</span><span class="p">]</span>
<span class="p">(</span><span class="o">...</span> <span class="k">for</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="o">...</span><span class="p">)</span>
<span class="p">{</span><span class="o">...</span> <span class="k">for</span> <span class="n">hodnota</span> <span class="ow">in</span> <span class="o">...</span><span class="p">}</span>
</pre></div>


<p>TakÃ© pÅ™Ã­kazy <code>with</code> a <code>except</code> jsou, co se pÅ™iÅ™azovÃ¡nÃ­ tÃ½Äe, normÃ¡lnÃ­:</p>
<div class="highlight"><pre><span class="k">with</span> <span class="o">...</span> <span class="k">as</span> <span class="n">hodnota</span><span class="p">:</span> <span class="o">...</span>
<span class="k">except</span> <span class="o">...</span> <span class="k">as</span> <span class="n">hodnota</span><span class="p">:</span> <span class="o">...</span>
</pre></div>


<p>Jen pokud budeme z&nbsp;nÄ›jakÃ©ho dÅ¯vodu chtÃ­t rozbalovat,
je potÅ™eba vÅ¡echny zÃºÄastnÄ›nÃ© promÄ›nnÃ© uzavÅ™Ã­t do zÃ¡vorek,
protoÅ¾e ÄÃ¡rka tu uÅ¾ mÃ¡ (nebo mÄ›la) jinÃ½ vÃ½znam.
MÅ¯Å¾eme tedy napsat tÅ™eba Å¡Ã­lenost jako:</p>
<div class="highlight"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;dvouradkovy_soubor.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="p">(</span><span class="n">radek1</span><span class="p">,</span> <span class="n">radek2</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">radek1</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">radek2</span><span class="p">)</span>
</pre></div>


<p>DalÅ¡Ã­ pÅ™iÅ™azujÃ­cÃ­ pÅ™Ã­kaz je <code>import</code>, ve vÅ¡ech jeho podobÃ¡ch.
Na rozdÃ­l od ostatnÃ­ch umÃ­ pÅ™iÅ™adit jen do ÄistÃ©ho jmÃ©na promÄ›nnÃ©;
poloÅ¾ky ani atributy nemÃ¡ rÃ¡d.</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">hodnota</span><span class="o">,</span> <span class="nn">hodnota2</span>
<span class="kn">from</span> <span class="nn">modul</span> <span class="kn">import</span> <span class="n">hodnota</span><span class="p">,</span> <span class="n">hodnota2</span>
<span class="kn">import</span> <span class="nn">modul</span> <span class="kn">as</span> <span class="nn">hodnota</span>
<span class="kn">from</span> <span class="nn">modul</span> <span class="kn">import</span> <span class="n">vec</span> <span class="k">as</span> <span class="n">hodnota</span>
</pre></div>


<p>JeÅ¡tÄ› zajÃ­mavÄ›jÅ¡Ã­ jsou pÅ™Ã­kazy <code>def</code> a <code>class</code>.
ObÄ› vytvoÅ™Ã­ nÄ›jakÃ½ objekt, aÅ¥ uÅ¾ funkci nebo tÅ™Ã­du,
a&nbsp;pÅ™iÅ™adÃ­ jej do danÃ© promÄ›nnÃ© (zase ale umÃ­ pouze jednoduchÃ¡&nbsp;jmÃ©na).</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">hodnota</span><span class="p">():</span>
    <span class="k">pass</span>
<span class="k">class</span> <span class="nc">hodnota</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>


<p>NavÃ­c ale jmÃ©no â€zapÃ­Å¡eâ€œ do vytvoÅ™enÃ©ho objektu.
Funkce si bude sama â€pamatovatâ€œ jak se jmenuje,
nezÃ¡visle na promÄ›nnÃ© ve kterÃ© je&nbsp;uloÅ¾ena.</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">nejaka_funkce</span><span class="p">():</span>
    <span class="k">pass</span>
<span class="n">jine_jmeno</span> <span class="o">=</span> <span class="n">nejaka_funkce</span>
<span class="k">print</span><span class="p">(</span><span class="n">jine_jmeno</span><span class="p">)</span>  <span class="c"># â†’ &lt;function nejaka_funkce ...&gt;</span>
</pre></div>


<p>PoslednÃ­ (opravdu!) a&nbsp;nejexotiÄtÄ›jÅ¡Ã­ forma pÅ™iÅ™azovÃ¡nÃ­ jsou formÃ¡lnÃ­
argumenty funkcÃ­.</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">funkce</span><span class="p">(</span><span class="n">hodnota</span><span class="p">,</span> <span class="n">hodnota2</span><span class="p">):</span> 
    <span class="k">print</span><span class="p">(</span><span class="n">hodnota2</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">funkce</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c"># â†’ 2</span>
</pre></div>


<p>Hned po zavolÃ¡nÃ­ funkce se danÃ¡ jmÃ©na nastavÃ­ na pÅ™edanÃ© hodnoty.
DÄ›je se to v&nbsp;kontextu funkce,
takÅ¾e, jak si povÃ­me v&nbsp;pÅ™Ã­Å¡tÃ­m ÄlÃ¡nku, vznikajÃ­ lokÃ¡lnÃ­&nbsp;promÄ›nnÃ©.</p>
<p>OpÄ›t zde nenÃ­ moÅ¾nÃ© pÅ™iÅ™azovat do poloÅ¾ek Äi&nbsp;atributÅ¯.
V&nbsp;Pythonu 2&nbsp;sice v&nbsp;argumentech jde pouÅ¾Ã­t rozbalovÃ¡nÃ­,
ale nedoporuÄuju to dÄ›lat â€“ uÅ¾ jen proto Å¾e
to nejnovÄ›jÅ¡Ã­ verze jazyka nepodporuje.</p>
<p>Funkce definovanÃ© pomocÃ­ <code>lambda</code> se, co se argumentÅ¯ tÃ½Äe,
samozÅ™ejmÄ› chovajÃ­ ÃºplnÄ› stejnÄ› jako ty z&nbsp;<code>def</code>.</p>
<h2 id="jmenne-prostory">JmennÃ© prostory</h2>
<p>xxx: Ãºvod</p>
<h3 id="lokalni-promenne">LokÃ¡lnÃ­ promÄ›nnÃ©</h3>
<h3 id="hranice-jmennych-prostoru">Hranice jmennÃ½ch prostorÅ¯</h3>
<h3 id="generatory-vwzxhzdk93pythonu-3">GenerÃ¡tory v&nbsp;Pythonu 3</h3>
<h2 id="identity-awzxhzdk94hodnoty">Identity a&nbsp;hodnoty</h2>
<h2 id="odpoved-sandre">(odpovÄ›Ä SandÅ™e)</h2>
<p>PÅ™ipravÃ­m obsÃ¡hlejÅ¡Ã­ odpovÄ›Ä. Pro teÄ jen shrnutÃ­, snad to bude trochu
pochopitelnÃ©:</p>
<p>LokÃ¡lnÃ­ promÄ›nnÃ© se vytvÃ¡Å™Ã­ pÅ™iÅ™azenÃ­m: pokud je kdekoli ve funkci pÅ™Ã­kaz jako
    promenna = nejaka_hodnota
nebo jinÃ© pÅ™iÅ™azenÃ­, napÅ™:
    promenna += 1
    for promenna in 1, 2, 3: ...
    def promenna(a, b, c): ...
tak je <code>promenna</code> lokÃ¡lnÃ­, a "vnÄ›jÅ¡Ã­" promÄ›nnÃ¡ stejnÃ©ho nÃ¡zvu se ÃºplnÄ›&nbsp;ignoruje.</p>
<p>Pokud tam Å¾Ã¡dnÃ½ pÅ™iÅ™azovacÃ­ pÅ™Ã­kaz nenÃ­, tak se lokÃ¡lnÃ­ promÄ›nnÃ¡
nevytvoÅ™Ã­, vÃ½razy jako
    print promenna
    funkce(promenna)
budou pouÅ¾Ã­vat globÃ¡lnÃ­ promÄ›nnou.</p>
<p>PÅ™Ã­kaz <code>global</code> zabraÅˆuje vytvÃ¡Å™enÃ­ lokÃ¡lnÃ­ promÄ›nnÃ© v&nbsp;danÃ© funkci,
takÅ¾e se globÃ¡lnÃ­ promÄ›nnÃ© dÃ¡ pÅ™iÅ™adit.</p>
<p>Tenhle pÅ™Ã­kaz:
    x = promenna + 1
pÅ™iÅ™azuje do <code>x</code>; z <code>promenna</code> nedÄ›lÃ¡ lokÃ¡lnÃ­ promÄ›nnou.
Je-li v <code>promenna</code> seznam, po pÅ™Ã­kazu:
    promenna[0] = 24
bude v <code>promenna</code> stÃ¡le stejnÃ½ seznam, zmÄ›nÃ­ se jen hodnota "vevnitÅ™".
PÅ™iÅ™azuje se do <code>promenna[0]</code>, nikoli do samotnÃ© <code>promenna</code>, takÅ¾e to
zase nedÄ›lÃ¡ lokÃ¡lnÃ­ promÄ›nnou.
Proto jsou v&nbsp;tÃ© hÅ™e vÅ¡echny ty globÃ¡lnÃ­ promÄ›nnÃ©&nbsp;seznamy.</p>
<p>Bez globÃ¡lnÃ­ch promÄ›nnÃ½ch by se to dalo napsat objektovÄ›, ale to je na
delÅ¡Ã­ projekt pro PyLadies 2014 :)</p>
<h2 id="zdroje-awzxhzdk99dalsi-materialy">Zdroje a&nbsp;dalÅ¡Ã­ materiÃ¡ly</h2>
<ul>
<li>Dokumentace Pythonu, zvlÃ¡Å¡tÄ› <a href="http://docs.python.org/2/reference/index.html">popis jazyka</a> a&nbsp;<a href="http://docs.python.org/2/reference/grammar.html">gramatiky</a>.</li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:swap-optimization">
<p>DalÅ¡Ã­ zjednoduÅ¡enÃ­; tvoÅ™it novÃ½ objekt je zbyteÄnÄ› pomalÃ©,
proto se v tomhle pÅ™Ã­padÄ› se v CPythonu n-tice ve skuteÄnosti nevytvoÅ™Ã­.
PromÄ›nnÃ© se prohodÃ­ pÅ™Ã­mo.
Ale efekt je stejnÃ½, jako kdyby se to dÄ›lo podle mÃ©ho popisu.&#160;<a class="footnote-backref" href="#fnref:swap-optimization" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>        </div> <!--/#entry-content-->
            <span class="tag-links"><strong>ğŸ“Œ</strong>
 <a href="http://encukou.cz/blog/tag/promenne" rel="tag">promÄ›nnÃ©</a>,  <a href="http://encukou.cz/blog/tag/python" rel="tag">python</a>            </span>
    </div> <!--/#main-->
</div>  <!--/#post-->
        </div>


<ul class="prev-next">
    <li class="prev">
        <a href="http://encukou.cz/blog/2013/05/04/en-raspberry-third-screen">
            Raspberry Pi and my Third Screen
        </a>
    </li>
    <li class="next">
        <a href="http://encukou.cz/blog/2014/01/05/cs-rozcestnik-python">
            Jak funguje Python
        </a>
    </li>
</ul>
<span class="clearfix"></span>

<ul class="article-links">
        <li><a href="https://github.com/encukou/blog/blob/master/posts/2014-01-04-cs-promenne-v-pythonu.md"><em>Forkni</em> si tenhle ÄlÃ¡nek na Githubu</a></li>
</ul>


        <footer id="footer">
            <p>
        
    tento blog pouÅ¾Ã­vÃ¡ systÃ©m <a href="http://getpelican.com/">Pelican</a>
    <br>
    styl adaptovanÃ½ z <a href="https://github.com/tbunnyman/pelican-chunk">pelican-chunk</a>
        Â© <a href="https://twitter.com/thisistran">Tran</a>
        a <a href="http://bunnyman.info/">tBunnyMan</a>
    <br>
    pouÅ¾itÃ© fonty: Signika Â© <a href="https://plus.google.com/u/0/105016556070324621004/about">Anna GiedryÅ›</a>
        a Jockey One Â© <a href="https://plus.google.com/u/0/109781094858738402812/posts">TypeTogether</a>
    <br>
    tento blog je na <a href="https://github.com/encukou/blog">Githubu</a>
    <br>
    <br>
    text na tÃ©to strÃ¡nce je k dispozici pod licencÃ­
    <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">
            Creative Commons Attribution-ShareAlike 3.0 Unported</a>
    <br>
    Â© Petr Viktorin, <a href="http://encukou.cz">encukou.cz</a>
    
            </p>
        </footer>
    </div><!-- /#container -->
    <div style="display:none"></div>
</body>
</html>